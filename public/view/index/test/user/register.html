{include file="test/public/header"}

<!-- é¡µä½“ -->
<div id="jsParameter" jsTabClass="4" layer=0 class="mdui-container-full">

    <div class="mdui-p-t-5">
        <h1 class="mdui-text-color-theme mdui-p-t-2 mdui-text-center">æ³¨å†Œ</h1>
    </div>

    <!-- ä¸»ä½“ç»„ä»¶ -->
    <div class="mdui-p-t-5">
        <div class="mdui-card
                    mdui-p-y-3
                    mdui-p-x-3
                    mdui-m-b-2
                    mdui-shadow-0">
            <!-- ç»„ä»¶å±‚ -->
            <div class="mdui-p-b-5">
                <div class="mdui-textfield mdui-textfield-floating-label">
                    <i class="mdui-icon material-icons">account_circle</i>
                    <label class="mdui-textfield-label">ç”¨æˆ·å</label>
                    <input class="mdui-textfield-input" type="text" id="name">
                </div>
                <div class="mdui-textfield mdui-textfield-floating-label">
                    <i class="mdui-icon material-icons">email</i>
                    <label class="mdui-textfield-label">é‚®ç®±</label>
                    <input class="mdui-textfield-input" type="email" id="email">
                </div>
                <div class="mdui-textfield mdui-textfield-floating-label">
                    <i class="mdui-icon material-icons">phone</i>
                    <label class="mdui-textfield-label">æ‰‹æœºå·</label>
                    <input class="mdui-textfield-input" type="number" id="phone">
                </div>
                <div class="mdui-textfield mdui-textfield-floating-label">
                    <i class="mdui-icon material-icons">lock</i>
                    <label class="mdui-textfield-label">å¯†ç </label>
                    <input class="mdui-textfield-input" type="password" id="password">
                </div>
                <div class="mdui-textfield mdui-textfield-floating-label">
                    <i class="mdui-icon material-icons"></i>
                    <label class="mdui-textfield-label">é‡å¤å¯†ç </label>
                    <input class="mdui-textfield-input" type="password" id="repassword">
                </div>
                <div style="margin-left: 10px;"
                    class="mdui-typo-caption mdui-text-color-black-disabled mdui-p-t-1 mdui-typo">
                    <input id="mustCheck" type="checkbox" />
                    <span>è¯·å…ˆé˜…è¯»<a href="">ã€Šå®Œç¾å®¶æ”¿å¹³å°æœåŠ¡æ”¿ç­–ã€‹</a></span>
                </div>
            </div>

            <!-- ç»„ä»¶å±‚ -->
            <div class="mdui-p-b-3">
                <button id="submitRegister" type="button"
                    class="mdui-btn-block mdui-color-theme-accent mdui-btn mdui-ripple">
                    æ³¨ å†Œ
                </button>
            </div>

            <!-- ç»„ä»¶å±‚ -->
            <div class="mdui-divider"></div>

            <!-- ç»„ä»¶å±‚ -->
            <div class="mdui-typo-caption mdui-text-color-black-disabled mdui-p-t-1 mdui-typo">
                <p>æ¬¢è¿ä½¿ç”¨å®Œç¾å®¶æ”¿å¹³å° <a class="mdui-float-right" href="/index/user/login">ğŸ‘ˆè¿”å›ç™»å…¥</a> </p>
            </div>

        </div>
    </div>

</div>


{include file="test/public/footer"}

<script>
    $(function () {
        //æäº¤
        $('#submitRegister').click(function () {
            if (!$('#mustCheck').prop('checked')) {
                mdui.snackbar({
                    message: 'è¯·å…ˆåŒæ„å¹³å°æ”¿ç­–åç»§ç»­',
                    position: 'left-top'
                });
                return;
            }

            if (($('#password').val() != $('#repassword').val()) || $('#password').val() == '') {
                mdui.snackbar({
                    message: 'è¯·æ£€æŸ¥å¯†ç é¡¹æ˜¯å¦åˆæ³•',
                    position: 'left-top'
                });
                return;
            }

            data = {
                'email': $('#email').val(),
                'name': $('#name').val(),
                'phone': $('#phone').val(),
                'password': $('#password').val(),
            };
            //æäº¤æ•°æ®
            result = apiAjax0(data, apiUrlUserAuthRegister, 'POST');
            if (result) {
                //æˆåŠŸ
                mdui.snackbar({
                    message: 'ç™»å…¥æ³¨å†Œ',
                    position: 'left-top'
                });
                //é™„åŠ åŠŸèƒ½
                $.cookie('user_uuid', result.data.uuid, { expires: 7, path: '/' });
                //è·³è½¬
                jumpUrl('/index/user/index');
                return;
            }
        })
    })
</script>

</body>

</html>